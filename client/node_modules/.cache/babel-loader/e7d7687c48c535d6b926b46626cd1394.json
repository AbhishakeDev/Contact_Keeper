{"ast":null,"code":"import _defineProperty from\"/Users/abhishektripathi/Documents/React_by_Brad/contact-keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/abhishektripathi/Documents/React_by_Brad/contact-keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/abhishektripathi/Documents/React_by_Brad/contact-keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import AlertContext from'../../context/alert/alertContext';import AuthContext from'../../context/auth/authContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(props){var authContext=useContext(AuthContext);var alertContext=useContext(AlertContext);var setAlert=alertContext.setAlert;var register=authContext.register,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;useEffect(function(){if(isAuthenticated){props.history.push('/');}if(error==='User already exists.'){setAlert(error,'danger');clearErrors();}// eslint-disable-next-line \n},[error,props.history,isAuthenticated]);var _useState=useState({name:'',email:'',password:'',password2:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var name=user.name,email=user.email,password=user.password,password2=user.password2;var onChange=function onChange(e){return setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(name===''||email===''||password===''){setAlert('Please enter all fields','danger');}else if(password!==password2){setAlert('password do not match','danger');}else{register({name:name,email:email,password:password});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Account \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:name,onChange:onChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange,required:true,minLength:\"6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password2\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password2\",value:password2,onChange:onChange,required:true,minLength:\"6\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Register\",className:\"btn btn-primary btn-block\"})]})]});};export default Register;","map":{"version":3,"sources":["/Users/abhishektripathi/Documents/React_by_Brad/contact-keeper/client/src/components/auth/Register.js"],"names":["React","useContext","useState","useEffect","AlertContext","AuthContext","Register","props","authContext","alertContext","setAlert","register","error","clearErrors","isAuthenticated","history","push","name","email","password","password2","user","setUser","onChange","e","target","value","onSubmit","preventDefault"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport AlertContext from '../../context/alert/alertContext';\nimport AuthContext from '../../context/auth/authContext';\n\nconst Register = (props) => {\n    const authContext = useContext(AuthContext);\n    const alertContext = useContext(AlertContext);\n    const { setAlert } = alertContext;\n    const { register, error, clearErrors, isAuthenticated } = authContext;\n\n    useEffect(() => {\n        if (isAuthenticated) {\n            props.history.push('/');\n        }\n        if (error === 'User already exists.') {\n            setAlert(error, 'danger');\n            clearErrors();\n        }\n        // eslint-disable-next-line \n    }, [error, props.history, isAuthenticated])\n\n    const [user, setUser] = useState({\n        name: '',\n        email: '',\n        password: '',\n        password2: ''\n    })\n\n    const { name, email, password, password2 } = user;\n\n    const onChange = e => setUser({\n        ...user,\n        [e.target.name]: e.target.value\n    })\n\n    const onSubmit = e => {\n        e.preventDefault();\n        if (name === '' || email === '' || password === '') {\n            setAlert('Please enter all fields', 'danger')\n        }\n        else if (password !== password2) {\n            setAlert('password do not match', 'danger')\n        }\n        else {\n            register({ name, email, password });\n        }\n    }\n\n    return (\n        <div className='form-container'>\n            <h1>\n                Account <span className=\"text-primary\">Register</span>\n            </h1>\n            <form onSubmit={onSubmit}>\n                <div className=\"form-group\">\n                    <label htmlFor=\"name\">Name</label>\n                    <input type=\"text\" name=\"name\" value={name} onChange={onChange} required />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\">Email Address</label>\n                    <input type=\"email\" name=\"email\" value={email} onChange={onChange} required />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"password\">Password</label>\n                    <input type=\"password\" name=\"password\" value={password} onChange={onChange} required minLength='6' />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"password2\">Confirm Password</label>\n                    <input type=\"password\" name=\"password2\" value={password2} onChange={onChange} required minLength='6' />\n                </div>\n                <input type=\"submit\" value=\"Register\" className=\"btn btn-primary btn-block\" />\n            </form>\n        </div>\n    )\n}\n\nexport default Register\n"]},"metadata":{},"sourceType":"module"}