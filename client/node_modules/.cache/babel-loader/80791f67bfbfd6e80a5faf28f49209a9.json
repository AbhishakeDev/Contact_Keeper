{"ast":null,"code":"import _regeneratorRuntime from\"/Users/abhishektripathi/Documents/React_by_Brad/contact-keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/abhishektripathi/Documents/React_by_Brad/contact-keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/abhishektripathi/Documents/React_by_Brad/contact-keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import axios from'axios';import ContactContext from'./contactContext';import ContactReducer from'./contactReducer';import{GET_CONTACTS,CLEAR_CONTACTS,ADD_CONTACT,DELETE_CONTACT,SET_CURRENT,UPDATE_CONTACT,FILTER_CONTACT,CLEAR_FILTER,CLEAR_CURRENT,CONTACT_ERROR}from'../types';import{jsx as _jsx}from\"react/jsx-runtime\";var ContactState=function ContactState(props){var initialState={contacts:null,current:null,filtered:null,error:null};var _useReducer=useReducer(ContactReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];//Get contacts\nvar getContacts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/contacts');case 3:res=_context.sent;dispatch({type:GET_CONTACTS,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:CONTACT_ERROR,payload:_context.t0.response.msg});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getContacts(){return _ref.apply(this,arguments);};}();//Add contact\nvar addContact=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(contact){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={header:{'Config-Type':'application/js'}};_context2.prev=1;_context2.next=4;return axios.post('/api/contacts',contact,config);case 4:res=_context2.sent;dispatch({type:ADD_CONTACT,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch({type:CONTACT_ERROR,payload:_context2.t0.response.msg});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function addContact(_x){return _ref2.apply(this,arguments);};}();//Delete Contact\nvar deleteContact=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:DELETE_CONTACT,payload:id});try{axios.delete(\"/api/contacts/\".concat(id));dispatch({type:DELETE_CONTACT,payload:id});}catch(err){dispatch({type:CONTACT_ERROR,payload:err.response.msg});}case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteContact(_x2){return _ref3.apply(this,arguments);};}();//Update contact\nvar updateContact=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(contact){var config,res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:config={header:{'Config-Type':'application/js'}};_context4.prev=1;_context4.next=4;return axios.put(\"/api/contacts/\".concat(contact._id),contact,config);case 4:res=_context4.sent;dispatch({type:UPDATE_CONTACT,payload:res.data});_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);dispatch({type:CONTACT_ERROR,payload:_context4.t0.response.msg});case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8]]);}));return function updateContact(_x3){return _ref4.apply(this,arguments);};}();//Set Current Contact\nvar setCurrent=function setCurrent(contact){dispatch({type:SET_CURRENT,payload:contact});};//Clear current Contact\nvar clearCurrent=function clearCurrent(){dispatch({type:CLEAR_CURRENT});};//Clear contact\nvar clearContacts=function clearContacts(){dispatch({type:CLEAR_CONTACTS});};//Filter contacts\nvar filterContacts=function filterContacts(text){dispatch({type:FILTER_CONTACT,payload:text});};//Clear filter\nvar clearFilter=function clearFilter(){dispatch({type:CLEAR_FILTER});};return/*#__PURE__*/_jsx(ContactContext.Provider,{value:{contacts:state.contacts,error:state.error,current:state.current,filtered:state.filtered,addContact:addContact,deleteContact:deleteContact,setCurrent:setCurrent,clearCurrent:clearCurrent,updateContact:updateContact,filterContacts:filterContacts,clearFilter:clearFilter,getContacts:getContacts,clearContacts:clearContacts},children:props.children});};export default ContactState;","map":{"version":3,"sources":["/Users/abhishektripathi/Documents/React_by_Brad/contact-keeper/client/src/context/contact/ContactState.js"],"names":["React","useReducer","axios","ContactContext","ContactReducer","GET_CONTACTS","CLEAR_CONTACTS","ADD_CONTACT","DELETE_CONTACT","SET_CURRENT","UPDATE_CONTACT","FILTER_CONTACT","CLEAR_FILTER","CLEAR_CURRENT","CONTACT_ERROR","ContactState","props","initialState","contacts","current","filtered","error","state","dispatch","getContacts","get","res","type","payload","data","response","msg","addContact","contact","config","header","post","deleteContact","id","delete","err","updateContact","put","_id","setCurrent","clearCurrent","clearContacts","filterContacts","text","clearFilter","children"],"mappings":"ijBAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,OACIC,YADJ,CAEIC,cAFJ,CAGIC,WAHJ,CAIIC,cAJJ,CAKIC,WALJ,CAMIC,cANJ,CAOIC,cAPJ,CAQIC,YARJ,CASIC,aATJ,CAUIC,aAVJ,KAWO,UAXP,C,2CAaA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,KAAK,CAAI,CAC1B,GAAMC,CAAAA,YAAY,CAAG,CACjBC,QAAQ,CAAE,IADO,CAEjBC,OAAO,CAAE,IAFQ,CAGjBC,QAAQ,CAAE,IAHO,CAIjBC,KAAK,CAAE,IAJU,CAArB,CAD0B,gBAQApB,UAAU,CAACG,cAAD,CAAiBa,YAAjB,CARV,4CAQnBK,KARmB,iBAQZC,QARY,iBAS1B;AACA,GAAMC,CAAAA,WAAW,0FAAG,iLAEMtB,CAAAA,KAAK,CAACuB,GAAN,CAAU,eAAV,CAFN,QAENC,GAFM,eAIZH,QAAQ,CAAC,CACLI,IAAI,CAAEtB,YADD,CAELuB,OAAO,CAAEF,GAAG,CAACG,IAFR,CAAD,CAAR,CAJY,+EASZN,QAAQ,CAAC,CACLI,IAAI,CAAEb,aADD,CAELc,OAAO,CAAE,YAAIE,QAAJ,CAAaC,GAFjB,CAAD,CAAR,CATY,oEAAH,kBAAXP,CAAAA,WAAW,0CAAjB,CAiBA;AACA,GAAMQ,CAAAA,UAAU,2FAAG,kBAAMC,OAAN,qIACTC,MADS,CACA,CACXC,MAAM,CAAE,CACJ,cAAe,gBADX,CADG,CADA,yCAQOjC,CAAAA,KAAK,CAACkC,IAAN,CAAW,eAAX,CAA4BH,OAA5B,CAAqCC,MAArC,CARP,QAQLR,GARK,gBAUXH,QAAQ,CAAC,CACLI,IAAI,CAAEpB,WADD,CAELqB,OAAO,CAAEF,GAAG,CAACG,IAFR,CAAD,CAAR,CAVW,mFAeXN,QAAQ,CAAC,CACLI,IAAI,CAAEb,aADD,CAELc,OAAO,CAAE,aAAIE,QAAJ,CAAaC,GAFjB,CAAD,CAAR,CAfW,sEAAH,kBAAVC,CAAAA,UAAU,6CAAhB,CAsBA;AACA,GAAMK,CAAAA,aAAa,2FAAG,kBAAMC,EAAN,sHAClBf,QAAQ,CAAC,CACLI,IAAI,CAAEnB,cADD,CAELoB,OAAO,CAAEU,EAFJ,CAAD,CAAR,CAIA,GAAI,CACApC,KAAK,CAACqC,MAAN,yBAA8BD,EAA9B,GAEAf,QAAQ,CAAC,CACLI,IAAI,CAAEnB,cADD,CAELoB,OAAO,CAAEU,EAFJ,CAAD,CAAR,CAIH,CAAC,MAAOE,GAAP,CAAY,CACVjB,QAAQ,CAAC,CACLI,IAAI,CAAEb,aADD,CAELc,OAAO,CAAEY,GAAG,CAACV,QAAJ,CAAaC,GAFjB,CAAD,CAAR,CAIH,CAjBiB,wDAAH,kBAAbM,CAAAA,aAAa,8CAAnB,CAmBA;AACA,GAAMI,CAAAA,aAAa,2FAAG,kBAAMR,OAAN,qIACZC,MADY,CACH,CACXC,MAAM,CAAE,CACJ,cAAe,gBADX,CADG,CADG,yCAQIjC,CAAAA,KAAK,CAACwC,GAAN,yBAA2BT,OAAO,CAACU,GAAnC,EAA0CV,OAA1C,CAAmDC,MAAnD,CARJ,QAQRR,GARQ,gBASdH,QAAQ,CAAC,CACLI,IAAI,CAAEjB,cADD,CAELkB,OAAO,CAAEF,GAAG,CAACG,IAFR,CAAD,CAAR,CATc,mFAedN,QAAQ,CAAC,CACLI,IAAI,CAAEb,aADD,CAELc,OAAO,CAAE,aAAIE,QAAJ,CAAaC,GAFjB,CAAD,CAAR,CAfc,sEAAH,kBAAbU,CAAAA,aAAa,8CAAnB,CAuBA;AACA,GAAMG,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAX,OAAO,CAAI,CAC1BV,QAAQ,CAAC,CACLI,IAAI,CAAElB,WADD,CAELmB,OAAO,CAAEK,OAFJ,CAAD,CAAR,CAIH,CALD,CAMA;AACA,GAAMY,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBtB,QAAQ,CAAC,CACLI,IAAI,CAAEd,aADD,CAAD,CAAR,CAGH,CAJD,CAKA;AACA,GAAMiC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxBvB,QAAQ,CAAC,CACLI,IAAI,CAAErB,cADD,CAAD,CAAR,CAGH,CAJD,CAMA;AACA,GAAMyC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAAC,IAAI,CAAI,CAC3BzB,QAAQ,CAAC,CACLI,IAAI,CAAEhB,cADD,CAELiB,OAAO,CAAEoB,IAFJ,CAAD,CAAR,CAIH,CALD,CAMA;AACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB1B,QAAQ,CAAC,CACLI,IAAI,CAAEf,YADD,CAAD,CAAR,CAGH,CAJD,CAKA,mBACI,KAAC,cAAD,CAAgB,QAAhB,EACI,KAAK,CAAE,CACHM,QAAQ,CAAEI,KAAK,CAACJ,QADb,CAEHG,KAAK,CAAEC,KAAK,CAACD,KAFV,CAGHF,OAAO,CAAEG,KAAK,CAACH,OAHZ,CAIHC,QAAQ,CAAEE,KAAK,CAACF,QAJb,CAKHY,UAAU,CAAVA,UALG,CAMHK,aAAa,CAAbA,aANG,CAOHO,UAAU,CAAVA,UAPG,CAQHC,YAAY,CAAZA,YARG,CASHJ,aAAa,CAAbA,aATG,CAUHM,cAAc,CAAdA,cAVG,CAWHE,WAAW,CAAXA,WAXG,CAYHzB,WAAW,CAAXA,WAZG,CAaHsB,aAAa,CAAbA,aAbG,CADX,UAgBK9B,KAAK,CAACkC,QAhBX,EADJ,CAoBH,CAnJD,CAqJA,cAAenC,CAAAA,YAAf","sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\n\nimport ContactContext from './contactContext';\nimport ContactReducer from './contactReducer';\nimport {\n    GET_CONTACTS,\n    CLEAR_CONTACTS,\n    ADD_CONTACT,\n    DELETE_CONTACT,\n    SET_CURRENT,\n    UPDATE_CONTACT,\n    FILTER_CONTACT,\n    CLEAR_FILTER,\n    CLEAR_CURRENT,\n    CONTACT_ERROR\n} from '../types';\n\nconst ContactState = props => {\n    const initialState = {\n        contacts: null,\n        current: null,\n        filtered: null,\n        error: null\n    };\n\n    const [state, dispatch] = useReducer(ContactReducer, initialState);\n    //Get contacts\n    const getContacts = async () => {\n        try {\n            const res = await axios.get('/api/contacts');\n\n            dispatch({\n                type: GET_CONTACTS,\n                payload: res.data\n            })\n        } catch (err) {\n            dispatch({\n                type: CONTACT_ERROR,\n                payload: err.response.msg\n            })\n        }\n\n    }\n\n    //Add contact\n    const addContact = async contact => {\n        const config = {\n            header: {\n                'Config-Type': 'application/js'\n            }\n        }\n\n        try {\n            const res = await axios.post('/api/contacts', contact, config);\n\n            dispatch({\n                type: ADD_CONTACT,\n                payload: res.data\n            })\n        } catch (err) {\n            dispatch({\n                type: CONTACT_ERROR,\n                payload: err.response.msg\n            })\n        }\n\n    }\n    //Delete Contact\n    const deleteContact = async id => {\n        dispatch({\n            type: DELETE_CONTACT,\n            payload: id\n        })\n        try {\n            axios.delete(`/api/contacts/${id}`);\n\n            dispatch({\n                type: DELETE_CONTACT,\n                payload: id\n            })\n        } catch (err) {\n            dispatch({\n                type: CONTACT_ERROR,\n                payload: err.response.msg\n            })\n        }\n    }\n    //Update contact\n    const updateContact = async contact => {\n        const config = {\n            header: {\n                'Config-Type': 'application/js'\n            }\n        }\n\n        try {\n            const res = await axios.put(`/api/contacts/${contact._id}`, contact, config);\n            dispatch({\n                type: UPDATE_CONTACT,\n                payload: res.data\n            })\n\n        } catch (err) {\n            dispatch({\n                type: CONTACT_ERROR,\n                payload: err.response.msg\n            })\n        }\n\n\n    }\n    //Set Current Contact\n    const setCurrent = contact => {\n        dispatch({\n            type: SET_CURRENT,\n            payload: contact\n        })\n    }\n    //Clear current Contact\n    const clearCurrent = () => {\n        dispatch({\n            type: CLEAR_CURRENT\n        })\n    }\n    //Clear contact\n    const clearContacts = () => {\n        dispatch({\n            type: CLEAR_CONTACTS\n        })\n    }\n\n    //Filter contacts\n    const filterContacts = text => {\n        dispatch({\n            type: FILTER_CONTACT,\n            payload: text\n        })\n    }\n    //Clear filter\n    const clearFilter = () => {\n        dispatch({\n            type: CLEAR_FILTER\n        })\n    }\n    return (\n        <ContactContext.Provider\n            value={{\n                contacts: state.contacts,\n                error: state.error,\n                current: state.current,\n                filtered: state.filtered,\n                addContact,\n                deleteContact,\n                setCurrent,\n                clearCurrent,\n                updateContact,\n                filterContacts,\n                clearFilter,\n                getContacts,\n                clearContacts\n            }}>\n            {props.children}\n        </ContactContext.Provider>\n    )\n}\n\nexport default ContactState;"]},"metadata":{},"sourceType":"module"}